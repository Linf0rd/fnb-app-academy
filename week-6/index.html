<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
  </head>
  <body onload="fetchContacts()">
    <div id="table">Contacts loading...</div>
    <button id="refresh" type="button">Refresh</button>
    <button id="addContact" type="button">Add Contact</button>

    <script src="config.js"></script>
    <script>
      function fetchContacts() {
        fetch(rootPath + "controller/get-contacts/")
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            displayOutput(data);
            //console.log(data);
          });
      }

      function displayOutput(data) {
        output = "<table>";
        for (a in data) {
          output += "<tr>";
          output += `<td><img src="${rootPath}controller/uploads/${data[a].avatar}" width="275" height="183"/></td>`;
          output += "<td><h5>" + data[a].firstname + "</h5></td>";
          output += "<td><h5>" + data[a].lastname + "</h5></td>";
          output += "</tr>";
        }
        output += "</table>";
        document.getElementById("table").innerHTML = output;
      }
    </script>
  </body>
</html>
